{% extends "staff_site/base.html" %}
      {% block body %}
      <!-- partial -->
      <div class="main-panel">
        <div class="content-wrapper">
          <div class="row">
              <div class="col-lg-6 grid-margin stretch-card" style="width: 100%">
              <div class="card">
                <div class="card-body">
                  <h4 class="card-title">All Packages</h4>
                  <p class="card-description">
                    All travel Packages in <code>Digital Beans</code>
                  </p>
                  <div class="table-responsive">
                    <table class="table table-hover">
                      <thead>
                        <tr>
                          <th>Package ID</th>
                          <th>Package Name</th>
                          <th>Duration</th>
                          <th>Price</th>
                        </tr>
                      </thead>

                      <tbody>
                      {% for plan in plans %}
                        <tr onclick="showPlans({{plan.id}})">
                          <td>{{plan.id}}</td>
                          <td>{{plan.name}}</td>
                          <td>{{plan.length}} days</td>
                          <td><label class="badge badge-danger">Â¥ {{plan.price}}</label></td>
                        </tr>
                      <script>
                        function showPlans(plan_id_res=null){
                            {#window.location.href = "/staff/contents/view_plan/"#}
                          $.get({
                            url: '/staff/pack_load_detail',
                            type: 'GET',
                            data: ({plan_id_res : plan_id_res}),
                            success: function (data) {
                                window.location.href = "/staff/view_plan/" + plan_id_res;
                            }
                          })
                        }
                      </script>
                      {% endfor %}

                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
            <div style="display:flex;justify-content: center; align-items:center;">
            <a href="{{ url_for('staff_site.view_plan') }}" >
              <input  type="button" class="btn btn-primary me-2" style="width: fit-content" value="ADD A NEW PACKAGE" onclick="showPlans(null)" />
            </a>
            </div>
          </div>
        </div>
        <!-- content-wrapper ends -->
        <!-- partial:../../partials/_footer.html -->

        <!-- partial -->
      </div>
      <!-- main-panel ends -->
      {% endblock %}

